<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Namo Incorporated â€” Admin Console</title>
<link rel="stylesheet" href="main.css">
<style>
  #loginBox, #console { max-width: 800px; margin: 40px auto; }
  #loginBox {
    background: #111; color: white; padding: 30px; border-radius: 12px;
    text-align: center;
  }
  input {
    width: 80%; padding: 10px; margin: 8px 0; border-radius: 8px;
    border: 1px solid #ccc; font-family: monospace;
  }
  button {
    background: #5e2ea6; color: white; padding: 10px 20px;
    border: none; border-radius: 8px; cursor: pointer;
  }
  button:hover { opacity: 0.8; }

  #console { display: none; }
  pre { font-family: monospace; background: #f4f4f4; padding: 15px; border-radius: 8px; overflow-x: auto; }
</style>
</head>
<body>

<div class="topbar">
  <div class="topbar-inner">
    <p>Powered by Google workspace, Squarespace domains, GitHub Pages</p>
    <nav>
      <a href="index.html">Experiments</a>
      <a href="test-subjects.html">Test subjects</a>
      <a href="reactor.html">The reactor</a>
    </nav>
  </div>
</div>

<div id="loginBox">
  <h2>Admin Login</h2>
  <input id="email" type="email" placeholder="Email" autocomplete="username"><br>
  <input id="password" type="password" placeholder="Password" autocomplete="current-password"><br>
  <button onclick="login()">Login</button>
  <p id="loginMessage"></p>
</div>

<div id="console">
  <h1>Admin Console</h1>
  <p><b>Domain:</b> SS Domains</p>
  <p><b>Test server:</b> https://namo-inc.org/test</p>
  
  <p><b>System files:</b></p>
  <pre id="fileList">Loading...</pre>

  <p><b>Edit page:</b></p>
  <p>Billing: <a href="https://admin.google.com" target="_blank">admin.google.com</a> (GW admin)</p>
  <p>Page: GitHub Repo: <a href="https://github.com/Namo-inc/Namo-inc.github.io" target="_blank">Namo-inc.github.io</a></p>
</div>

<script>
const ADMIN_EMAIL = "admin@namo-inc.org";
const ADMIN_PASSWORD = "Pattawee7";

function login() {
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const message = document.getElementById("loginMessage");

  if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
    message.textContent = "Access granted.";
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("console").style.display = "block";
    loadSystemFiles();
  } else {
    message.textContent = "Access denied.";
  }
}

async function loadSystemFiles() {
  const listEl = document.getElementById("fileList");
  listEl.textContent = "Loading...";

  try {
    const response = await fetch("https://api.github.com/repos/Namo-inc/Namo-inc.github.io/contents/");
    const data = await response.json();
    listEl.textContent = "";
    data.forEach(item => {
      const line = document.createElement("div");
      line.textContent = item.type === "dir" ? item.name + "/" : item.name;
      listEl.appendChild(line);
    });
  } catch (err) {
    listEl.textContent = "Failed to load files.";
  }
}
</script>

</body>
</html>
